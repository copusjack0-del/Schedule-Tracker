:root {
  --bg: #0b1220; --panel: #0f172a; --muted: #94a3b8; --text: #e5e7eb;
  --primary: #0ea5e9; --ring: #38bdf8; --danger: #ef4444; --shadow: 0 10px 30px rgba(0,0,0,.35);
  --radius: 18px;
}
* { box-sizing: border-box; }
html, body { height: 100%; }
body { margin:0; font:16px system-ui, -apple-system, Segoe UI, Roboto, Inter, Arial, sans-serif; color:var(--text);
  background: linear-gradient(180deg,#0b1220 0%,#0b1220 40%,#0a1327 100%); }
button, input, textarea { font: inherit; color: inherit; }

.appbar { position:sticky; top:0; z-index:10; display:grid; grid-template-columns:1fr auto 1fr; align-items:center;
  gap:8px; padding: env(safe-area-inset-top) 12px 8px; background:rgba(10,16,30,.75); backdrop-filter: blur(10px);
  border-bottom:1px solid #111827; }
.appbar .left, .appbar .right { display:flex; gap:8px; align-items:center; }
.appbar .right { justify-content:end; }
.appbar h1 { font-size:16px; margin:0; font-weight:600; opacity:.9; }

.tabs { display:flex; gap:8px; padding:8px 12px; border-bottom:1px solid #111827; position:sticky; top:54px; background:rgba(10,16,30,.7); backdrop-filter: blur(10px); z-index:9; }
.tab { border:1px solid #1f2937; background:var(--panel); color:var(--text); padding:8px 12px; border-radius:999px; }
.tab.active { background:var(--primary); color:#001018; }

#app { max-width: 840px; margin: 0 auto; padding: 8px 12px 96px; }
.tabpane { display:none; }
.tabpane.active { display:block; }

.weekbar { display:grid; grid-template-columns:repeat(7,1fr); gap:8px; margin:8px 0 12px; }
.daychip { border:1px solid #1f2937; background:var(--panel); padding:10px; border-radius:var(--radius); text-align:center; cursor:pointer; transition:transform .05s ease; }
.daychip small { display:block; color:var(--muted); }
.daychip strong { display:block; margin-top:2px; font-weight:650; }
.daychip.active { outline:2px solid var(--ring); box-shadow:var(--shadow); }
.daychip:active { transform: translateY(1px) scale(.99); }

.day-list { display:grid; gap:14px; }
.day-card, .panel { background:var(--panel); border:1px solid #1f2937; border-radius:var(--radius); padding:12px; box-shadow:var(--shadow); }
.day-card h3 { margin:0 0 8px; font-size:14px; color:var(--muted); font-weight:600; }

.event { display:grid; grid-template-columns:10px 1fr auto; gap:12px; align-items:start; padding:10px; border-radius:14px; border:1px solid #1f2937; background:#0b1328; }
.event + .event { margin-top:8px; }
.event .dot { width:10px; height:10px; border-radius:50%; margin-top:6px; }
.event .tline { display:flex; gap:8px; align-items:baseline; flex-wrap:wrap; }
.event .title { font-weight:700; }
.event .time { color:var(--muted); font-size:13px; }
.event .subline { color:var(--muted); font-size:13px; margin-top:2px; }
.event .edit { opacity:.8; }

.fab { position:fixed; right:18px; bottom:18px; z-index:20; width:56px; height:56px; border-radius:50%;
  border:none; background:var(--primary); color:#001018; font-size:26px; font-weight:900; box-shadow:var(--shadow); }

button.primary, .chip { background:var(--primary); color:#001018; border:none; padding:8px 12px; border-radius:999px; }
button.ghost, .ghost { background:transparent; color:var(--text); border:1px solid #1f2937; padding:8px 12px; border-radius:999px; }
button.danger { background:var(--danger); border:none; color:#fee2e2; padding:8px 12px; border-radius:999px; }
button:focus-visible, .colors > button:focus-visible { outline:2px solid var(--ring); outline-offset:2px; }

dialog { border:none; border-radius:20px; padding:0; width:min(600px,92vw); background:var(--panel); color:var(--text); box-shadow:var(--shadow); }
dialog::backdrop { backdrop-filter: blur(3px); background: rgba(0,0,0,.4); }
.modal-title { display:flex; align-items:center; justify-content:space-between; padding:12px 14px; border-bottom:1px solid #1f2937; }
.modal-title h2 { margin:0; font-size:16px; }
#btnClose { background:transparent; border:none; color:var(--muted); font-size:18px; }

form .grid { display:grid; gap:10px; padding:12px; }
label { display:grid; gap:6px; font-size:14px; }
input, textarea { background:#0b1328; border:1px solid #1f2937; color:var(--text); padding:10px 12px; border-radius:12px; }
.row2 { display:grid; grid-template-columns:1fr 1fr; gap:10px; }
.colors { display:grid; grid-template-columns:repeat(7,1fr); gap:8px; }
.colors > button { height:34px; border-radius:10px; border:2px solid #0b1328; cursor:pointer; }
.colors > button.selected { outline:2px solid var(--ring); }
.actions { display:flex; align-items:center; gap:8px; margin-top:8px; }
.spacer { flex:1; }
.muted { color:var(--muted); }
.mt { margin-top:10px; }

.stats { display:grid; gap:10px; font-size:14px; }
.stats .row { display:flex; justify-content:space-between; }
.form-grid { display:grid; gap:10px; grid-template-columns:1fr 1fr; }
@media (max-width: 480px){ .row2, .form-grid { grid-template-columns:1fr; } }

.hidden { display:none !important; }
